<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Minds</title>
    <link rel="stylesheet" href="home.css">
    <link rel="icon" href="icon.jpg">
</head>
<body class="result_body">
    
    <div class="result_flex">
        
        <div class="result_imgandname">
            <h3 class="yourcard_is">あなたの選んだカードは</h3>
            <img src="" id="result_img" width="200">
            <div><h3 id="result_name"></h3></div>
        </div>
        <div class="result_space">
            
            <h2>＜占い結果＞</h2>
            <div class="problem_title">
                <h3 class="your_peroblem_question">あなたの悩み：<h3 id="your_problem"></h3></h3>
            </div>
            <div id="ai_answer"><p></p></div>
            
            
        </div>
    </div>

    <a href="index.html" class="return"><h2><< もう一度</h2></a>
    <script>        
        document.addEventListener("DOMContentLoaded", function () {
            let StoragedSrc=localStorage.getItem("selected_card_src");
            let ResultImg = document.getElementById("result_img");
            let StoragedAlt=localStorage.getItem("selected_card_alt");
            let ResultName = document.getElementById("result_name");
            ResultImg.src = StoragedSrc;
            ResultName.textContent = StoragedAlt;

            let storagedProblem=localStorage.getItem("problem");
            let YourProblem = document.getElementById("your_problem");
            if (storagedProblem) {
                YourProblem.textContent = storagedProblem;
            } else {
                YourProblem.textContent = "悩みが入力されていません";
            }
            let geminiResponse = localStorage.getItem("geminiResponse");
            console.log(geminiResponse)
            if(geminiResponse===undefined){
                document.getElementById("ai_answer").innerHTML = "悩みをより具体的にしてもう一度試してください";
            }
            // document.getElementById("ai_answer").textContent = GeminiResponse || "No response found.";
            document.getElementById("ai_answer").innerHTML = geminiResponse.replace(/\n/g, "<br>");
        });

        
        

    </script>
    <script src="home.js"></script>
</body>
</html>